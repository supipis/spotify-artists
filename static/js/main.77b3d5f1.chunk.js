(this["webpackJsonpspotify-artists"]=this["webpackJsonpspotify-artists"]||[]).push([[0],{114:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),s=c(41),i=c.n(s),r=(c(48),c(27)),o=c(9),u=(c(49),c(42)),d=(c(115),c(25)),l=c.n(d),j=c(43),b=c.n(j),f=c(28),p=c(3),O={apiKey:"AIzaSyAkPEv9v08oOv8c3hD-8SEGJt6po6U0JKg",authDomain:"artists-spotify.firebaseapp.com",projectId:"artists-spotify",storageBucket:"artists-spotify.appspot.com",messagingSenderId:"237999941202",appId:"1:237999941202:web:25b876a105fdeb8a35218b"};function h(t){var e=Object(n.useState)(["Sri Lanka","Pakistan"]),c=Object(o.a)(e,2),a=c[0];c[1];return Object(p.jsx)("ul",{id:"country",children:a.map((function(e){return Object(p.jsx)("li",{className:t.selectedCountry==e?"selected":"",onClick:function(){return t.onCountrySelect(e)},id:"countryList",children:e})}))})}function m(t){var e=Object(n.useState)(),c=Object(o.a)(e,2);c[0],c[1];return Object(p.jsx)("ul",{id:"artists",children:Object(p.jsx)(f.a,{path:"/artists/",limit:5,where:{field:"NameOfCountry",operator:"==",value:t.selectedCountry},children:function(e){return e.isLoading?"Loading":e.value.map((function(e){return Object(p.jsxs)("li",{className:t.selectedArtistId==e.ArtistId?"selected":"",onClick:function(){return t.onArtistSelect(e.ArtistId)},id:"artist-list",children:[" ",e.NameOfArtist," "]})}))}})})}function y(t){var e=Object(n.useState)(""),c=Object(o.a)(e,2),a=(c[0],c[1]),s=Object(n.useState)([]),i=Object(o.a)(s,2),r=i[0],u=i[1];return Object(n.useEffect)((function(){var e=t.artistId;""!=e?l()("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa("b277afd5fab340199cf0f95e8f39c70e:c55b5f3cdbc9429cbc293ce43b9f6394")},data:"grant_type=client_credentials"}).then((function(t){console.log(t.data.access_token),a(t.data.access_token),l()("https://api.spotify.com/v1/artists/".concat(e,"/top-tracks?market=").concat("US"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+t.data.access_token}}).then((function(t){console.log(t.data.tracks),u(t.data.tracks)})).catch((function(t){return console.log(t)}))})).catch((function(t){return console.log(t)})):u([])}),[t.artistId]),Object(p.jsx)("div",{className:"music-track",children:Object(p.jsx)("ul",{id:"tracks",children:r.map((function(t){return Object(p.jsx)("div",{className:"player",children:Object(p.jsxs)("li",{id:"track-list",children:[t.name," ",Object(p.jsx)("br",{}),Object(p.jsx)(b.a,{src:t.preview_url,controls:!0})]})})}))})})}var k=function(){var t=Object(n.useState)("Sri Lanka"),e=Object(o.a)(t,2),c=e[0],a=e[1],s=Object(n.useState)(""),i=Object(o.a)(s,2),d=i[0],l=i[1];return Object(p.jsx)(f.b,Object(r.a)(Object(r.a)({},O),{},{firebase:u.a,children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("h1",{children:"The World of Music"}),Object(p.jsx)(h,{onCountrySelect:function(t){a(t),l("")},selectedCountry:c}),Object(p.jsx)(m,{selectedCountry:c,onArtistSelect:l,selectedArtistId:d}),Object(p.jsx)(y,{artistId:d})]})}))},x=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,116)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,s=e.getLCP,i=e.getTTFB;c(t),n(t),a(t),s(t),i(t)}))};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root")),x()},48:function(t,e,c){},49:function(t,e,c){}},[[114,1,2]]]);
//# sourceMappingURL=main.77b3d5f1.chunk.js.map